<Window x:Class="Wysg.Musm.SnomedTools.Views.SnomedWordCountImporterWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
   mc:Ignorable="d"
        Title="Import SNOMED-CT Concepts by Word Count"
 Width="800" Height="600"
        WindowStartupLocation="CenterOwner"
        Background="#1E1E1E">

    <Window.Resources>
   <!-- Fallback brushes for standalone mode -->
        <SolidColorBrush x:Key="Background" Color="#1E1E1E"/>
        <SolidColorBrush x:Key="Foreground" Color="#CCCCCC"/>
        <SolidColorBrush x:Key="ForegroundMuted" Color="#858585"/>
        <SolidColorBrush x:Key="ControlBackground" Color="#252526"/>
        <SolidColorBrush x:Key="BorderBrush" Color="#3F3F46"/>
        
        <!-- GroupBox Style -->
        <Style TargetType="GroupBox">
       <Setter Property="Foreground" Value="{StaticResource Foreground}"/>
   <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
   <Setter Property="BorderThickness" Value="1"/>
        </Style>
        
    <!-- Label Style -->
        <Style TargetType="Label">
       <Setter Property="Foreground" Value="{StaticResource Foreground}"/>
        </Style>
        
        <!-- TextBlock Style -->
        <Style TargetType="TextBlock">
    <Setter Property="Foreground" Value="{StaticResource Foreground}"/>
 </Style>
        
  <!-- TextBox Style -->
        <Style TargetType="TextBox">
     <Setter Property="Background" Value="{StaticResource ControlBackground}"/>
            <Setter Property="Foreground" Value="{StaticResource Foreground}"/>
      <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="5"/>
        </Style>
    
        <!-- ComboBox Style -->
        <Style TargetType="ComboBox">
        <Setter Property="Foreground" Value="{StaticResource Foreground}"/>
            <Setter Property="Background" Value="{StaticResource ControlBackground}"/>
        </Style>
        
        <!-- Button Style -->
        <Style TargetType="Button">
     <Setter Property="Padding" Value="15,8"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="Background" Value="{StaticResource ControlBackground}"/>
      <Setter Property="Foreground" Value="{StaticResource Foreground}"/>
      <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
      <Setter Property="BorderThickness" Value="1"/>
   <Setter Property="Cursor" Value="Hand"/>
        </Style>
    </Window.Resources>

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
   <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
  <RowDefinition Height="Auto"/>
    <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Configuration Panel -->
        <GroupBox Grid.Row="0" Header="Search Configuration" Padding="10" Margin="0,0,0,15">
        <Grid>
 <Grid.RowDefinitions>
  <RowDefinition Height="Auto"/>
 <RowDefinition Height="Auto"/>
     </Grid.RowDefinitions>
           <Grid.ColumnDefinitions>
        <ColumnDefinition Width="150"/>
        <ColumnDefinition Width="*"/>
    </Grid.ColumnDefinitions>

     <Label Grid.Row="0" Grid.Column="0" Content="Target Word Count:" VerticalAlignment="Center"/>
        <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal" Margin="0,5">
    <TextBox Width="60" 
   Text="{Binding TargetWordCount, UpdateSourceTrigger=PropertyChanged}"
       VerticalAlignment="Center"
       HorizontalContentAlignment="Center"/>
      <TextBlock Text="(Number of words in synonym to search for)" 
       VerticalAlignment="Center" 
           Margin="10,0,0,0"
   Foreground="{StaticResource ForegroundMuted}"/>
           </StackPanel>

            <Button Grid.Row="1" Grid.Column="1" 
        Content="Start Import"
     Command="{Binding StartCommand}"
    HorizontalAlignment="Left"
    Margin="0,10,0,0"
   Background="#2563EB"
    Foreground="White"
        FontWeight="Bold"/>
            </Grid>
        </GroupBox>

   <!-- Statistics Panel -->
        <GroupBox Grid.Row="1" Header="Import Statistics" Padding="10" Margin="0,0,0,15">
    <Grid>
                <Grid.ColumnDefinitions>
    <ColumnDefinition Width="*"/>
       <ColumnDefinition Width="*"/>
   <ColumnDefinition Width="*"/>
       </Grid.ColumnDefinitions>

    <StackPanel Grid.Column="0">
        <TextBlock Text="Added" FontWeight="Bold" HorizontalAlignment="Center"/>
  <TextBlock Text="{Binding AddedCount}" 
     FontSize="24" 
       Foreground="#10B981"
      HorizontalAlignment="Center"
              Margin="0,5,0,0"/>
       </StackPanel>

            <StackPanel Grid.Column="1">
      <TextBlock Text="Ignored" FontWeight="Bold" HorizontalAlignment="Center"/>
           <TextBlock Text="{Binding IgnoredCount}" 
         FontSize="24" 
         Foreground="#F59E0B"
       HorizontalAlignment="Center"
       Margin="0,5,0,0"/>
   </StackPanel>

                <StackPanel Grid.Column="2">
           <TextBlock Text="Total Processed" FontWeight="Bold" HorizontalAlignment="Center"/>
              <TextBlock Text="{Binding TotalProcessedCount}" 
             FontSize="24" 
     Foreground="#6366F1"
     HorizontalAlignment="Center"
 Margin="0,5,0,0"/>
              </StackPanel>
          </Grid>
        </GroupBox>

      <!-- Current Candidate Display -->
        <GroupBox Grid.Row="2" Header="Current Candidate" Padding="15" Margin="0,0,0,15">
    <StackPanel>
   <TextBlock Text="Term:" FontWeight="Bold" Margin="0,0,0,5"/>
      <TextBlock Text="{Binding CurrentTerm}" 
             FontSize="20"
                Foreground="#3B82F6"
  TextWrapping="Wrap"
   Margin="0,0,0,15"/>

   <TextBlock Text="Concept Info:" FontWeight="Bold" Margin="0,0,0,5"/>
      <TextBlock Text="{Binding CurrentConceptInfo}" 
        TextWrapping="Wrap"
     Foreground="{StaticResource ForegroundMuted}"/>
       </StackPanel>
        </GroupBox>

    <!-- Action Buttons -->
        <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
     <Button Content="? Add (Active)"
 Command="{Binding AddCommand}"
         Width="150"
               Height="50"
         Background="#10B981"
   Foreground="White"
        FontSize="16"
        FontWeight="Bold"
             Margin="10"/>

        <Button Content="? Ignore (Inactive)"
        Command="{Binding IgnoreCommand}"
        Width="150"
          Height="50"
    Background="#F59E0B"
        Foreground="White"
     FontSize="16"
    FontWeight="Bold"
    Margin="10"/>
        </StackPanel>

        <!-- Status Bar -->
      <Border Grid.Row="4" 
       Background="{StaticResource ControlBackground}"
                BorderBrush="{StaticResource BorderBrush}"
      BorderThickness="0,1,0,0"
     Padding="10"
       Margin="0,15,0,10">
  <TextBlock Text="{Binding StatusMessage}" 
 FontStyle="Italic"
        Foreground="{StaticResource ForegroundMuted}"/>
        </Border>

      <!-- Close Button -->
        <Button Grid.Row="5" 
                Content="Close"
    Click="OnCloseClick"
        HorizontalAlignment="Right"
         Width="100"/>
    </Grid>
</Window>
