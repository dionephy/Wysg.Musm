<Window x:Class="Wysg.Musm.Radium.Views.CreateModuleWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Create Custom Module" 
        Width="500" Height="450"
        Background="#1E1E1E" Foreground="#D0D0D0"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Module Type -->
        <TextBlock Grid.Row="0" Text="Module Type:" Margin="0,0,0,5"/>
        <ComboBox x:Name="cboModuleType" Grid.Row="1" Margin="0,0,0,15"
                  Background="#2D2D30" Foreground="#D0D0D0" 
                  BorderBrush="#3C3C3C" Padding="6,4"
                  SelectedValuePath="Content"
                  SelectionChanged="OnModuleTypeChanged">
            <ComboBoxItem Content="Run"/>
            <ComboBoxItem Content="Set"/>
            <ComboBoxItem Content="Abort if"/>
        </ComboBox>
        
        <!-- Property Selection (for Set type) -->
        <StackPanel x:Name="pnlProperty" Grid.Row="2" Visibility="Collapsed" Margin="0,0,0,15">
            <TextBlock Text="Property:" Margin="0,0,0,5"/>
            <ComboBox x:Name="cboProperty" 
                      Background="#2D2D30" Foreground="#D0D0D0" 
                      BorderBrush="#3C3C3C" Padding="6,4" Margin="0,0,0,10"
                      SelectionChanged="OnPropertyChanged"/>
            <TextBlock Text="to" Margin="0,0,0,5"/>
        </StackPanel>
        
        <!-- Procedure Selection -->
        <StackPanel x:Name="pnlProcedure" Grid.Row="3" Margin="0,0,0,15">
            <TextBlock Text="Custom Procedure:" Margin="0,0,0,5"/>
            <ComboBox x:Name="cboProcedure" 
                      Background="#2D2D30" Foreground="#D0D0D0" 
                      BorderBrush="#3C3C3C" Padding="6,4"
                      SelectionChanged="OnProcedureChanged"/>
        </StackPanel>
        
        <!-- Generated Module Name (read-only display) -->
        <Border Grid.Row="4" Margin="0,0,0,15" Padding="10" 
                Background="#252526" BorderBrush="#3C3C3C" BorderThickness="1" CornerRadius="3">
            <StackPanel>
                <TextBlock Text="Module Name:" FontSize="10" Foreground="#808080" Margin="0,0,0,4"/>
                <TextBlock x:Name="txtGeneratedName" Text="(Select options above to generate name)" 
                           Foreground="#D0D0D0" TextWrapping="Wrap" FontWeight="SemiBold"/>
            </StackPanel>
        </Border>
        
        <!-- Buttons -->
        <StackPanel Grid.Row="5" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button Content="Save" Width="80" Margin="0,0,10,0" 
                    Click="OnSave" IsDefault="True"
                    Background="#0E639C" Foreground="White" 
                    BorderBrush="#0E639C" Padding="10,5"/>
            <Button Content="Cancel" Width="80" 
                    Click="OnCancel" IsCancel="True"
                    Background="#3C3C3C" Foreground="#D0D0D0" 
                    BorderBrush="#3C3C3C" Padding="10,5"/>
        </StackPanel>
    </Grid>
</Window>
